zabbix_export:
  version: '7.0'
  template_groups:
  - uuid: 36bff6c29af64692839d077febfc7079
    name: Templates/Network devices
  templates:
  - uuid: 07d0f68726a14798b178a49f30e7d354
    template: ICMP Ping3
    name: ICMP Ping3
    description: |
      Template Net ICMP Ping

      Generated by official Zabbix template tool "Templator"
    groups:
    - name: Templates/Network devices
    items:
    - uuid: 259d3a3267584c8ca4d5db72ff8e29dd
      name: ICMP loss
      type: SIMPLE
      key: icmppingloss[{HOST.HOST}]
      history: 7d
      value_type: FLOAT
      units: '%'
      tags:
      - tag: component
        value: health
      - tag: component
        value: network
      triggers:
      - uuid: 6d06e2e689304b6385b96de0443d68ce
        expression: min(/ICMP Ping3/icmppingloss[{HOST.HOST}],5m)>{$ICMP_LOSS_WARN}
          and min(/ICMP Ping3/icmppingloss[{HOST.HOST}],5m)<100
        name: High ICMP ping loss
        opdata: 'Loss: {ITEM.LASTVALUE1}'
        priority: WARNING
        dependencies:
        - name: Unavailable by ICMP ping
          expression: max(/ICMP Ping3/icmpping[{HOST.HOST}],#3)=0
        tags:
        - tag: scope
          value: availability
        - tag: scope
          value: performance
    - uuid: 97fadfd35b694a178a6ca6cb2ff9c8d5
      name: ICMP response time
      type: SIMPLE
      key: icmppingsec[{HOST.HOST}]
      history: 7d
      value_type: FLOAT
      units: s
      tags:
      - tag: component
        value: health
      - tag: component
        value: network
      triggers:
      - uuid: a8a47d54ac654251bca57d647c1bb3b0
        expression: avg(/ICMP Ping3/icmppingsec[{HOST.HOST}],5m)>{$ICMP_RESPONSE_TIME_WARN}
        name: High ICMP ping response time
        opdata: 'Value: {ITEM.LASTVALUE1}'
        priority: WARNING
        description: Average ICMP response time is too high.
        dependencies:
        - name: High ICMP ping loss
          expression: min(/ICMP Ping3/icmppingloss[{HOST.HOST}],5m)>{$ICMP_LOSS_WARN}
            and min(/ICMP Ping3/icmppingloss[{HOST.HOST}],5m)<100
        - name: Unavailable by ICMP ping
          expression: max(/ICMP Ping3/icmpping[{HOST.HOST}],#3)=0
        tags:
        - tag: scope
          value: availability
        - tag: scope
          value: performance
    - uuid: 6d4cd952ae084c148812bc0dcf03e09e
      name: ICMP ping
      type: SIMPLE
      key: icmpping[{HOST.HOST}]
      history: 7d
      valuemap:
        name: Service state
      tags:
      - tag: component
        value: health
      - tag: component
        value: network
      triggers:
      - uuid: d5d323f4d47f40a1a108fddda6f4fb74
        expression: max(/ICMP Ping3/icmpping[{HOST.HOST}],#3)=0
        name: Unavailable by ICMP ping
        priority: HIGH
        description: Last three attempts returned timeout.  Please check device connectivity.
        tags:
        - tag: scope
          value: availability
    tags:
    - tag: class
      value: network
    - tag: target
      value: icmp
    macros:
    - macro: '{$ICMP_LOSS_WARN}'
      value: '20'
      description: Warning threshold of ICMP packet loss in %.
    - macro: '{$ICMP_RESPONSE_TIME_WARN}'
      value: '0.15'
      description: Warning threshold of the average ICMP response time in seconds.
    valuemaps:
    - uuid: 022117e8a1fb4b0cbdd081430d89d2ea
      name: Service state
      mappings:
      - value: '0'
        newvalue: Down
      - value: '1'
        newvalue: Up
